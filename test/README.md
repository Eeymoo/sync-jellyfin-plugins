# æµ‹è¯•è¯´æ˜

æœ¬ç›®å½•åŒ…å«é¡¹ç›®çš„æ‰€æœ‰æµ‹è¯•æ–‡ä»¶ï¼ŒæŒ‰ç…§ `*.test.js` çš„å‘½åçº¦å®šç»„ç»‡ã€‚

## æµ‹è¯•æ–‡ä»¶ç»“æ„

```
test/
â”œâ”€â”€ node.test.js              # Node.js åŸºç¡€åŠŸèƒ½æµ‹è¯•
â”œâ”€â”€ config.test.js            # é…ç½®æ–‡ä»¶æµ‹è¯•
â”œâ”€â”€ version-logic.test.js     # ç‰ˆæœ¬é€»è¾‘æµ‹è¯•
â”œâ”€â”€ duplicate-prevention.test.js  # é˜²é‡å¤ç¿»è¯‘æµ‹è¯•
â”œâ”€â”€ translation.test.js       # ç¿»è¯‘åŠŸèƒ½æµ‹è¯•
â”œâ”€â”€ run-tests.js             # æµ‹è¯•è¿è¡Œå™¨
â”œâ”€â”€ package.json             # æµ‹è¯•é…ç½®
â””â”€â”€ README.md               # æœ¬æ–‡ä»¶
```

## è¿è¡Œæµ‹è¯•

### è¿è¡Œæ‰€æœ‰æµ‹è¯•
```bash
# ä½¿ç”¨æµ‹è¯•è¿è¡Œå™¨
node test/run-tests.js

# æˆ–è€…é€ä¸ªè¿è¡Œ
node test/node.test.js
node test/config.test.js
node test/version-logic.test.js
node test/duplicate-prevention.test.js
node test/translation.test.js
```

### è¿è¡Œå•ä¸ªæµ‹è¯•
```bash
# è¿è¡ŒæŒ‡å®šæµ‹è¯•æ–‡ä»¶
node test/run-tests.js node.test.js
```

### ä½¿ç”¨ Jestï¼ˆå¦‚æœå·²å®‰è£…ï¼‰
```bash
cd test
npm install jest --save-dev
npm test
```

## æµ‹è¯•è¯´æ˜

### 1. node.test.js
- æµ‹è¯• Node.js åŸºç¡€ç¯å¢ƒ
- éªŒè¯æ ¸å¿ƒæ¨¡å—æ˜¯å¦å¯ç”¨
- æ£€æŸ¥åŸºæœ¬ JavaScript åŠŸèƒ½

### 2. config.test.js
- æµ‹è¯•é…ç½®æ–‡ä»¶è¯»å–
- éªŒè¯é…ç½®æ–‡ä»¶ç»“æ„
- æ£€æŸ¥æˆåŠŸç‡è®¡ç®—åŠŸèƒ½

### 3. version-logic.test.js
- æµ‹è¯•ç‰ˆæœ¬é…ç½®é€»è¾‘
- éªŒè¯ç‰ˆæœ¬ç‰¹å®šåŠŸèƒ½
- æ£€æŸ¥é…ç½®æ–‡ä»¶è§£æ

### 4. duplicate-prevention.test.js
- æµ‹è¯•é˜²é‡å¤ç¿»è¯‘åŠŸèƒ½
- éªŒè¯æ–‡æœ¬è¿‡æ»¤é€»è¾‘
- æ£€æŸ¥ç¿»è¯‘ç¼“å­˜æœºåˆ¶

### 5. translation.test.js
- æµ‹è¯•ç¿»è¯‘APIåŠŸèƒ½
- éªŒè¯å¤šè¯­è¨€æ”¯æŒ
- æ£€æŸ¥æ¨¡æ¿ç¿»è¯‘åŠŸèƒ½

## ç¯å¢ƒè¦æ±‚

### åŸºç¡€è¦æ±‚
- Node.js (æ¨è v14+)
- é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶

### ç¿»è¯‘æµ‹è¯•è¦æ±‚
éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®ï¼š
```
BAIDU_TRANSLATE_APPID=your_app_id
BAIDU_TRANSLATE_SECRET=your_secret_key
```

å¦‚æœæ²¡æœ‰é…ç½®ç¿»è¯‘APIï¼Œç›¸å…³æµ‹è¯•ä¼šè¢«è·³è¿‡ã€‚

## æµ‹è¯•è¾“å‡º

æ¯ä¸ªæµ‹è¯•æ–‡ä»¶ä¼šè¾“å‡ºè¯¦ç»†çš„æµ‹è¯•ç»“æœï¼ŒåŒ…æ‹¬ï¼š
- âœ… é€šè¿‡çš„æµ‹è¯•
- âŒ å¤±è´¥çš„æµ‹è¯•
- âš ï¸ è·³è¿‡çš„æµ‹è¯•ï¼ˆå¦‚APIæœªé…ç½®ï¼‰
- ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ¨¡å—æ‰¾ä¸åˆ°é”™è¯¯**
   ```
   Error: Cannot find module '../scripts/translator'
   ```
   ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œæµ‹è¯•ï¼Œæˆ–æ£€æŸ¥æ¨¡å—è·¯å¾„æ˜¯å¦æ­£ç¡®ã€‚

2. **ç¿»è¯‘æµ‹è¯•å¤±è´¥**
   ```
   BAIDU_TRANSLATE_APPID and BAIDU_TRANSLATE_SECRET not configured
   ```
   éœ€è¦é…ç½® `.env` æ–‡ä»¶ä¸­çš„ç¿»è¯‘APIå¯†é’¥ã€‚

3. **æ–‡ä»¶ä¸å­˜åœ¨é”™è¯¯**
   ```
   Error: ENOENT: no such file or directory
   ```
   ç¡®ä¿é…ç½®æ–‡ä»¶ï¼ˆå¦‚ `original-manifest-list.json`ï¼‰å­˜åœ¨ã€‚

### è°ƒè¯•å»ºè®®

1. å•ç‹¬è¿è¡Œæ¯ä¸ªæµ‹è¯•æ–‡ä»¶æ¥å®šä½é—®é¢˜
2. æ£€æŸ¥æ§åˆ¶å°è¾“å‡ºä¸­çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯
3. ç¡®ä¿æ‰€æœ‰ä¾èµ–çš„æ–‡ä»¶å’Œæ¨¡å—éƒ½å­˜åœ¨
4. éªŒè¯ç¯å¢ƒå˜é‡é…ç½®æ˜¯å¦æ­£ç¡®

## æ·»åŠ æ–°æµ‹è¯•

åˆ›å»ºæ–°çš„æµ‹è¯•æ–‡ä»¶æ—¶ï¼š

1. æ–‡ä»¶åä»¥ `.test.js` ç»“å°¾
2. åŒ…å«é€‚å½“çš„æµ‹è¯•ç”¨ä¾‹å’Œæ–­è¨€
3. åœ¨ `run-tests.js` ä¸­æ·»åŠ æ–°æ–‡ä»¶åˆ° `testFiles` æ•°ç»„
4. æ›´æ–°æœ¬ README æ–‡ä»¶çš„è¯´æ˜
